# =================================================
# 左手ユニット：Central側（ADC計測・BLE中枢・電池監視）
# =================================================
CONFIG_ZMK_KEYBOARD_NAME="Cliche_Air_L"

# =================================================
# 分割構成：Central（左側）バッテリ情報同期
# =================================================
CONFIG_ZMK_SPLIT=y
# 役割はフラグで指定する（文字列指定は不可）
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y

# Central 側が Peripheral（右側）のバッテリ情報も代理送信
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# =================================================
# BLE / Bluetooth 設定
# =================================================
CONFIG_BT=y
CONFIG_ZMK_BLE=y

# Central（スキャナ/オブザーバ）としての設定
CONFIG_BT_CENTRAL=y
CONFIG_BT_OBSERVER=y

# 接続数とペアリング数の余裕（必要に応じ調整）
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# BLE接続安定化パラメータ（必要に応じ調整）
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=12
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=24

# =================================================
# USB機能（Central側のみ有効）
# =================================================
# 左側（Central）はUSBを有効にする（PC接続等）
CONFIG_ZMK_USB=y
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_PRODUCT="Cliche Air (Left/Central)"

# =================================================
# バッテリ監視 / Non-LiPo管理
# =================================================
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_NON_LIPO_BATTERY_MANAGEMENT=y

# ADCによる電圧計測を有効化（バッテリ測定に必要）
CONFIG_ADC=y
CONFIG_SENSOR=y
CONFIG_GPIO=y

# Non-LiPo閾値（必要に応じて左右別に調整可）
CONFIG_ZMK_NON_LIPO_MAX_MV=4200
CONFIG_ZMK_NON_LIPO_MIN_MV=3300
CONFIG_ZMK_NON_LIPO_LOW_MV=3400

# Non-LiPo 自動スリープ（ミリ秒、必要なら prj.conf で上書き）
# CONFIG_ZMK_NON_LIPO_ADV_SLEEP_TIMEOUT=3000000

# =================================================
# LED Indicator（左もLEDストリップを持つなら有効）
# （個別に有効化するなら overlay 側のハード構成と合わせて有効化）
# =================================================
# CONFIG_ZMK_LED_INDICATOR=y
# CONFIG_ZMK_LED_INDICATOR_UPDATE_INTERVAL=1000
CONFIG_APPLICATION_INIT_PRIORITY=80

# =================================================
# エンコーダ設定（存在する場合）
# =================================================
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# =================================================
# NFCピンをGPIOとして使用
# =================================================
CONFIG_NFCT_PINS_AS_GPIOS=y

# =================================================
# トラックボール無効化（左側は搭載しない）
# =================================================
CONFIG_PMW3610=n

# =================================================
# 追加の Bluetooth / 電力関連（任意）
# =================================================
# 必要に応じて以下を調整
# CONFIG_BT_BONDABLE=y
# CONFIG_PM=y
# CONFIG_PM_DEVICE=y
