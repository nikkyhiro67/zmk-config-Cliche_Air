# =================================================
# 右手ユニット：Peripheral側（ポインティング + バッテリ監視）
# =================================================
CONFIG_ZMK_KEYBOARD_NAME="Cliche_Air_R"

# =================================================
# 分割構成：Peripheral（右側）バッテリ情報送信
# =================================================
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_ROLE_PERIPHERAL=y
CONFIG_ZMK_SPLIT_BLE_PERIPHERAL_BATTERY_REPORTING=y

# =================================================
# USB無効化（右側はBLE通信専用）
# =================================================
CONFIG_ZMK_USB=n
CONFIG_USB_DEVICE_STACK=n
CONFIG_ZMK_BLE=y

# =================================================
# ポインティングデバイス設定（PMW3610 トラックボール）
# =================================================
CONFIG_ZMK_POINTING=y
CONFIG_SPI=y
CONFIG_INPUT=y
CONFIG_ADC=y
CONFIG_SENSOR=y
CONFIG_GPIO=y

# PMW3610 設定
CONFIG_PMW3610=y
CONFIG_PMW3610_CPI=1000
CONFIG_PMW3610_CPI_DIVIDOR=1
CONFIG_PMW3610_ORIENTATION_180=y
CONFIG_PMW3610_SCROLL_TICK=16
CONFIG_PMW3610_INVERT_X=n
CONFIG_PMW3610_INVERT_SCROLL_X=y
CONFIG_PMW3610_RUN_DOWNSHIFT_TIME_MS=3264
CONFIG_PMW3610_REST1_SAMPLE_TIME_MS=20
CONFIG_PMW3610_POLLING_RATE_250=y
CONFIG_PMW3610_AUTOMOUSE_TIMEOUT_MS=700
CONFIG_PMW3610_SMART_ALGORITHM=y
CONFIG_PMW3610_ADJUSTABLE_MOUSESPEED=n
CONFIG_PMW3610_MOVEMENT_THRESHOLD=5
CONFIG_PMW3610_REPORT_INTERVAL_MIN=15

# =================================================
# バッテリ監視 / Non-LiPoバッテリ管理
# =================================================
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_NON_LIPO_BATTERY_MANAGEMENT=y

# Non-LiPo閾値（左右独立測定）
CONFIG_ZMK_NON_LIPO_MAX_MV=4200
CONFIG_ZMK_NON_LIPO_MIN_MV=3300
CONFIG_ZMK_NON_LIPO_LOW_MV=3400

# =================================================
# LED Indicator（右手も独自インジケータがある場合）
# =================================================
# CONFIG_ZMK_LED_INDICATOR=y
# CONFIG_ZMK_LED_INDICATOR_UPDATE_INTERVAL=1000
CONFIG_APPLICATION_INIT_PRIORITY=80

# =================================================
# エンコーダ設定（存在する場合）
# =================================================
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# =================================================
# NFCピンをGPIOとして使用
# =================================================
CONFIG_NFCT_PINS_AS_GPIOS=y

# =================================================
# BLE設定：Peripheral安定化
# =================================================
CONFIG_BT_MAX_CONN=1
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=12
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=24