# =================================================
# 共通 ZMK 設定
# =================================================
CONFIG_ZMK_BLE=y
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_BT_BAS=y

# =================================================
# Non-LiPo バッテリ管理共通設定
# =================================================
CONFIG_ZMK_NON_LIPO_BATTERY_MANAGEMENT=y
CONFIG_ZMK_NON_LIPO_MIN_MV=3300
CONFIG_ZMK_NON_LIPO_MAX_MV=4200
CONFIG_ZMK_NON_LIPO_LOW_MV=3400
CONFIG_ZMK_NON_LIPO_ADV_SLEEP_TIMEOUT=3000000

# =================================================
# バッテリ監視設定
# =================================================
# バッテリ監視タスクのスレッドスタックと周期設定
CONFIG_ZMK_BATTERY_MONITOR_STACK_SIZE=1024
CONFIG_ZMK_BATTERY_MONITOR_INTERVAL_SEC=30

# =================================================
# LED Indicator 設定
# =================================================
# LED制御更新の周期（ms）
CONFIG_ZMK_LED_INDICATOR_UPDATE_INTERVAL=1000

# 初期化優先度を高め、ZMKコアの起動後にLED更新開始
CONFIG_APPLICATION_INIT_PRIORITY=80

# =================================================
# 分割構成時のバッテリ同期
# =================================================
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# =================================================
# エンコーダ設定（存在する場合）
# =================================================
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# =================================================
# RGB LED / LED Strip 設定
# =================================================
CONFIG_LED_STRIP=y
CONFIG_LED=y
CONFIG_PWM=y

# RGB LEDウィジェット設定（ZMK標準の電池色表示設定）
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_HIGH=30
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_CRITICAL=10
CONFIG_RGBLED_WIDGET_SHOW_LAYER_COLORS=y

# =================================================
# ログ出力
# =================================================
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3   # INFOレベルまで出す（DEBUG必要なら4）
CONFIG_ZMK_LOG_LEVEL=3

# =================================================
# 電源管理
# =================================================
CONFIG_PM=y
CONFIG_PM_DEVICE=y
