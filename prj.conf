# =================================================
# 共通 ZMK 設定
# =================================================
CONFIG_ZMK=y
CONFIG_ZMK_BLE=y
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_BLE=y

# Bluetooth 基本機能
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_CENTRAL=y
CONFIG_BT_OBSERVER=y
CONFIG_BT_BROADCASTER=y
CONFIG_BT_GATT_CLIENT=y
CONFIG_BT_GATT_SERVER=y

# バッテリ情報を BLE で送信
CONFIG_ZMK_BATTERY_REPORTING=y

# =================================================
# Non-LiPo バッテリ管理共通設定
# =================================================
CONFIG_ZMK_NON_LIPO_BATTERY_MANAGEMENT=y

# バッテリ電圧範囲設定（mV）
CONFIG_ZMK_NON_LIPO_MAX_MV=4200
CONFIG_ZMK_NON_LIPO_MIN_MV=3300
CONFIG_ZMK_NON_LIPO_LOW_MV=3400

# 一定時間アイドル時に自動スリープ（3000000ms = 約50分）
CONFIG_ZMK_NON_LIPO_ADV_SLEEP_TIMEOUT=3000000

# ドライバ依存モジュール
CONFIG_SENSOR=y
CONFIG_ADC=y
CONFIG_GPIO=y

# =================================================
# バッテリ監視設定
# =================================================
CONFIG_ZMK_BATTERY_MONITOR_STACK_SIZE=1024
CONFIG_ZMK_BATTERY_MONITOR_INTERVAL_SEC=30

# =================================================
# LED Indicator 設定
# =================================================
CONFIG_ZMK_LED_INDICATOR=y
CONFIG_ZMK_LED_INDICATOR_UPDATE_INTERVAL=1000

# アプリ初期化優先度（ZMK Coreより後に起動）
CONFIG_APPLICATION_INIT_PRIORITY=80

# =================================================
# 分割構成時のバッテリ同期設定
# =================================================
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# =================================================
# エンコーダ設定（存在する場合のみ）
# =================================================
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# =================================================
# RGB LED / LED Strip 設定
# =================================================
CONFIG_LED_STRIP=y
CONFIG_LED=y
CONFIG_PWM=y

# RGBLED ウィジェット（標準バッテリ表示設定）
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_HIGH=30
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_CRITICAL=10
CONFIG_RGBLED_WIDGET_SHOW_LAYER_COLORS=y

# =================================================
# ログ出力設定
# =================================================
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3   # INFOレベル（詳細デバッグ時は4）

# =================================================
# 電源管理
# =================================================
CONFIG_PM=y
CONFIG_PM_DEVICE=y
